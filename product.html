<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Product â€” Nextâ€‘Life Loot</title>
<link rel="stylesheet" href="assets/styles.css">
</head><body>
<header class="header"><div class="container nav">
  <div class="logo"><span class="badge">âœ¨</span>Nextâ€‘Life Loot</div>
  <nav class="row" style="gap:10px">
    <a class="btn ghost" href="index.html">Home</a>
    <a class="btn ghost" href="shop.html">Shop</a>
    <a class="btn ghost" href="contact.html">Contact</a>
    <a class="btn" href="cart.html">ðŸ›’ <span id="cartMini">0 â€¢ $0.00</span></a>
  </nav>
  <div class="grow"></div>
  <select id="ccy" class="select" style="width:auto">
    <option value="BHD">BHD Ø¯.Ø¨</option><option value="USD">USD $</option><option value="EUR">EUR â‚¬</option><option value="GBP">GBP Â£</option>
  </select>
</div></header>

<main class="container">
  <div class="row" style="gap:16px;flex-wrap:wrap">
    <div style="flex:1;min-width:260px"><div class="card pimg"><img id="pImg" alt=""></div></div>
    <div style="flex:1;min-width:260px" class="card pad">
      <h1 id="pName" style="margin:0 0 6px"></h1>
      <div id="pNotes" class="pmeta"></div>
      <div style="height:8px"></div>
      <div class="row" style="gap:8px;align-items:center">
        <strong id="pPrice"></strong>
        <span id="pCond" class="badge"></span>
        <span id="pStock" class="small"></span>
      </div>
      <div style="height:12px"></div>
      <div class="row" style="gap:8px">
        <button id="add" class="btn primary">Add to cart</button>
        <a href="cart.html" class="btn">Go to cart</a>
      </div>
    </div>
  </div>
</main>

<footer class="footer">Â© <span id="year"></span> Nextâ€‘Life Loot</footer>
<script src="assets/app.js"></script>
<script>
(async function(){
  bindHeader();
  const params = new URLSearchParams(location.search);
  const id = params.get('id');
  const data = await loadProducts();
  const p = data.find(x=>x.id===id) || data[0];
  const ccy = STORE.getCurrency();
  document.title = p.name + ' â€” Nextâ€‘Life Loot';
  document.getElementById('pImg').src = p.img;
  document.getElementById('pName').textContent = p.name;
  document.getElementById('pNotes').textContent = p.notes;
  document.getElementById('pPrice').textContent = moneyUSDTo(ccy, p.priceUSD);
  document.getElementById('pCond').textContent = p.condition;
  document.getElementById('pStock').textContent = p.stock>0? 'In stock' : 'Out of stock';
  document.getElementById('add').addEventListener('click', ()=>{
    STORE.add(p.id,1); document.dispatchEvent(new Event('cart:updated'));
  });
  document.addEventListener('currency:changed', ()=> location.reload());
  document.getElementById('year').textContent = new Date().getFullYear();
})();
</script>
</body></html>
